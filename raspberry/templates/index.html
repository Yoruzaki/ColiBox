{% extends "layout.html" %}
{% block content %}
<section class="screen fade-in" id="home-screen">
  <div class="logo-container">
    <div class="logo">ColiGoo</div>
  </div>
  <h1>Bienvenue</h1>
  <div class="actions">
    <button class="btn-primary" onclick="showFlow('deposit')">
      Déposer un colis
    </button>
    <button class="btn-primary" onclick="showFlow('withdraw')">
      Retirer un colis
    </button>
  </div>
</section>

<section class="screen hidden" id="deposit-screen">
  <button class="back" onclick="goHome()">← Retour</button>
  <h2 class="screen-title">Déposer un colis</h2>
  
  <div class="form-group">
    <label>Code de suivi</label>
    <input id="deposit-tracking" class="input-field" readonly placeholder="Utilisez le clavier" value="">
  </div>
  
  <div class="keypad" id="deposit-keypad">
    <button class="key" onclick="keypadInput('deposit', '1')">1</button>
    <button class="key" onclick="keypadInput('deposit', '2')">2</button>
    <button class="key" onclick="keypadInput('deposit', '3')">3</button>
    <button class="key" onclick="keypadInput('deposit', '4')">4</button>
    <button class="key" onclick="keypadInput('deposit', '5')">5</button>
    <button class="key" onclick="keypadInput('deposit', '6')">6</button>
    <button class="key" onclick="keypadInput('deposit', '7')">7</button>
    <button class="key" onclick="keypadInput('deposit', '8')">8</button>
    <button class="key" onclick="keypadInput('deposit', '9')">9</button>
    <button class="key key-clear" onclick="keypadClear('deposit')">⌫</button>
    <button class="key" onclick="keypadInput('deposit', '0')">0</button>
    <button class="key key-ok" onclick="openDeposit()">✓</button>
  </div>
  
  <div class="hidden close-section" id="deposit-close">
    <div class="box-display">
      <div class="box-number" id="deposit-box-number"></div>
      <p class="box-instruction">Placez votre colis dans cette box et fermez la porte</p>
    </div>
    <button class="btn-confirm" onclick="closeDeposit()">Confirmer</button>
  </div>
  
  <div class="hidden" id="deposit-password-display">
    <div class="password-box">
      <p class="password-label">Votre mot de passe:</p>
      <div class="password-value" id="deposit-password"></div>
      <p class="password-warning">⚠️ Notez ce mot de passe pour récupérer votre colis</p>
    </div>
  </div>
</section>

<section class="screen hidden" id="withdraw-screen">
  <button class="back" onclick="goHome()">← Retour</button>
  <h2 class="screen-title">Retirer un colis</h2>
  
  <div class="form-group">
    <label>Mot de passe</label>
    <input id="withdraw-password" class="input-field" type="password" readonly placeholder="Utilisez le clavier" value="">
  </div>
  
  <div class="keypad" id="withdraw-keypad">
    <button class="key" onclick="keypadInput('withdraw', '1')">1</button>
    <button class="key" onclick="keypadInput('withdraw', '2')">2</button>
    <button class="key" onclick="keypadInput('withdraw', '3')">3</button>
    <button class="key" onclick="keypadInput('withdraw', '4')">4</button>
    <button class="key" onclick="keypadInput('withdraw', '5')">5</button>
    <button class="key" onclick="keypadInput('withdraw', '6')">6</button>
    <button class="key" onclick="keypadInput('withdraw', '7')">7</button>
    <button class="key" onclick="keypadInput('withdraw', '8')">8</button>
    <button class="key" onclick="keypadInput('withdraw', '9')">9</button>
    <button class="key key-clear" onclick="keypadClear('withdraw')">⌫</button>
    <button class="key" onclick="keypadInput('withdraw', '0')">0</button>
    <button class="key key-ok" onclick="openWithdraw()">✓</button>
  </div>
  
  <div class="hidden close-section" id="withdraw-close">
    <div class="box-display">
      <div class="box-number" id="withdraw-box-number"></div>
      <p class="box-instruction">Retirez votre colis et fermez la porte</p>
    </div>
    <button class="btn-confirm" onclick="closeWithdraw()">Confirmer</button>
  </div>
</section>

<div id="message-toast" class="message-toast hidden"></div>

<div id="loading-overlay" class="loading-overlay hidden">
  <div class="spinner"></div>
  <p class="loading-text">Traitement...</p>
</div>
{% endblock %}
