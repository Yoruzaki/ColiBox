{% extends "layout.html" %}
{% block content %}
<section class="screen fade-in" id="home-screen">
  <div class="logo-container">
    <div class="logo">ColiGoo</div>
  </div>
  <h1>Bienvenue</h1>
  <p class="subtitle">Sélectionnez une opération</p>
  <div class="actions">
    <button class="btn-primary" onclick="showFlow('deposit')">
      <span class="btn-text">Déposer un colis</span>
    </button>
    <button class="btn-primary" onclick="showFlow('withdraw')">
      <span class="btn-text">Retirer un colis</span>
    </button>
  </div>
</section>

<section class="screen hidden" id="deposit-screen">
  <button class="back" onclick="goHome()">← Retour</button>
  <div class="screen-header">
    <h2>Déposer un colis</h2>
    <p class="subtitle">Stockez votre colis en toute sécurité</p>
  </div>
  
  <div class="form-group">
    <label for="deposit-tracking">
      <span class="label-text">Code de suivi</span>
      <span class="label-required">*</span>
    </label>
    <input id="deposit-tracking" class="input-field" placeholder="Entrez le code de suivi" autocomplete="off">
  </div>
  
  <div class="form-group">
    <label>
      <span class="label-text">Sélectionnez un casier</span>
      <span class="label-required">*</span>
    </label>
    <div class="locker-grid" id="deposit-locker-grid">
      <button class="locker-btn" data-locker="1">1</button>
      <button class="locker-btn" data-locker="2">2</button>
      <button class="locker-btn" data-locker="3">3</button>
      <button class="locker-btn" data-locker="4">4</button>
      <button class="locker-btn" data-locker="5">5</button>
      <button class="locker-btn" data-locker="6">6</button>
      <button class="locker-btn" data-locker="7">7</button>
      <button class="locker-btn" data-locker="8">8</button>
      <button class="locker-btn" data-locker="9">9</button>
      <button class="locker-btn" data-locker="10">10</button>
      <button class="locker-btn" data-locker="11">11</button>
      <button class="locker-btn" data-locker="12">12</button>
      <button class="locker-btn" data-locker="13">13</button>
      <button class="locker-btn" data-locker="14">14</button>
      <button class="locker-btn" data-locker="15">15</button>
    </div>
    <input type="hidden" id="deposit-locker" value="">
  </div>
  
  <button class="btn-action" onclick="openDeposit()">
    <span class="btn-text">Ouvrir le casier</span>
  </button>
  
  <div class="hidden close-section" id="deposit-close">
    <div class="info-box">
      <p class="info-text">Placez votre colis à l'intérieur et fermez la porte</p>
      <button class="btn-confirm" onclick="closeDeposit()">Confirmer</button>
    </div>
  </div>
</section>

<section class="screen hidden" id="withdraw-screen">
  <button class="back" onclick="goHome()">← Retour</button>
  <div class="screen-header">
    <h2>Retirer un colis</h2>
    <p class="subtitle">Récupérez votre colis</p>
  </div>
  
  <div class="form-group">
    <label for="withdraw-password">
      <span class="label-text">Mot de passe</span>
      <span class="label-required">*</span>
    </label>
    <input id="withdraw-password" class="input-field" type="password" placeholder="Entrez votre mot de passe" autocomplete="off">
  </div>
  
  <div class="form-group">
    <label>
      <span class="label-text">Sélectionnez un casier</span>
      <span class="label-required">*</span>
    </label>
    <div class="locker-grid" id="withdraw-locker-grid">
      <button class="locker-btn" data-locker="1">1</button>
      <button class="locker-btn" data-locker="2">2</button>
      <button class="locker-btn" data-locker="3">3</button>
      <button class="locker-btn" data-locker="4">4</button>
      <button class="locker-btn" data-locker="5">5</button>
      <button class="locker-btn" data-locker="6">6</button>
      <button class="locker-btn" data-locker="7">7</button>
      <button class="locker-btn" data-locker="8">8</button>
      <button class="locker-btn" data-locker="9">9</button>
      <button class="locker-btn" data-locker="10">10</button>
      <button class="locker-btn" data-locker="11">11</button>
      <button class="locker-btn" data-locker="12">12</button>
      <button class="locker-btn" data-locker="13">13</button>
      <button class="locker-btn" data-locker="14">14</button>
      <button class="locker-btn" data-locker="15">15</button>
    </div>
    <input type="hidden" id="withdraw-locker" value="">
  </div>
  
  <button class="btn-action" onclick="openWithdraw()">
    <span class="btn-text">Ouvrir le casier</span>
  </button>
  
  <div class="hidden close-section" id="withdraw-close">
    <div class="info-box">
      <p class="info-text">Retirez votre colis et fermez la porte</p>
      <button class="btn-confirm" onclick="closeWithdraw()">Confirmer</button>
    </div>
  </div>
</section>

<div id="message-toast" class="message-toast hidden"></div>

<div id="loading-overlay" class="loading-overlay hidden">
  <div class="spinner"></div>
  <p class="loading-text">Traitement en cours...</p>
</div>
{% endblock %}
